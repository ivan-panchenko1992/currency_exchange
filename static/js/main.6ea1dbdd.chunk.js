(this.webpackJsonpcurrency_exchange=this.webpackJsonpcurrency_exchange||[]).push([[0],[,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(4),s=n.n(i),o=(n(10),n(2)),r=(n(11),function(e){return fetch(e).then((function(e){return e.json()})).catch((function(){return new Error("failed download")}))}),d="https://involve.software/test_front/api",u=function(e,t,n,c){return r("".concat(d).concat("/payMethods/calculate?base=").concat(t,"&amount=").concat(c,"&invoicePayMethod=").concat(e,"&withdrawPayMethod=").concat(n))},l=function(e,t,n,c){var a;return a={amount:e,base:t,invoicePayMethod:n,withdrawPayMethod:c},fetch("".concat(d,"/bids"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).catch((function(e){return console.log(e)}))},h=(n(12),n.p+"static/media/Vector.a167a025.svg"),j=n(0),b=function(e){var t=e.setPage;return Object(j.jsxs)("form",{className:"success-page",children:[Object(j.jsx)("img",{alt:"success",src:h}),Object(j.jsx)("h1",{className:"success-page__heading",children:"Success!"}),Object(j.jsxs)("p",{className:"success-page__text",children:["Your exchange order has been placed",Object(j.jsx)("br",{}),"successfully and will be processed soon."]}),Object(j.jsx)("button",{type:"button",className:"success-page__button",onClick:function(){return t("form")},children:"Home"})]})},m=(n(14),n(5)),f=n.n(m),O=function(e){var t=e.invoiseValue,n=e.withdrawValue,a=e.invoisePayMethod,i=e.withdrawPayMethod,s=e.invoicePayMethodId,r=e.withdrawPayMethodId,d=e.setPage,u=e.payMethod,h=Object(c.useState)(!1),b=Object(o.a)(h,2),m=b[0],O=b[1],v=a.find((function(e){return e.id===s})),w=i.find((function(e){return e.id===r}));return Object(j.jsxs)("div",{className:f()("card-confirmation",{"card-confirmation-loading":m}),children:[Object(j.jsx)("h1",{className:"card-confirmation__heading",children:"Details"}),Object(j.jsxs)("div",{className:"card-confirmation__invoise",children:[Object(j.jsx)("p",{className:"card-confirmation__invoise-sell",children:"Sell:"}),Object(j.jsxs)("p",{className:"card-confirmation__invoise-quontity",children:[t," ",null===v||void 0===v?void 0:v.name]})]}),Object(j.jsxs)("div",{className:"card-confirmation__withdraw",children:[Object(j.jsx)("p",{className:"card-confirmation__withdraw-buy",children:"Buy:"}),Object(j.jsxs)("p",{className:"card-confirmation__withdraw-quontity",children:[n," ",null===w||void 0===w?void 0:w.name]})]}),Object(j.jsxs)("div",{className:"card-confirmation__button",children:[Object(j.jsx)("button",{type:"button",className:"card-confirmation__button-cancel",onClick:function(){return d("form")},children:"Cancel"}),Object(j.jsx)("button",{type:"button",disabled:m,className:"card-confirmation__button-confirme",onClick:function(){return O(!0),"invoice"===u&&l(t,u,s,r).then((function(e){"Success"===e.message&&(O(!1),d("success"))})),void("withdraw"===u&&l(n,u,s,r).then((function(e){"Success"===e.message&&(O(!1),d("success"))})))},children:m?"Loading...":"Confirme"})]})]})},v=(n(15),function(e){var t=e.setPage,n=e.setInvoicePayMethodId,a=e.handleChangeValue,i=e.setWithdrawPayMethodId,s=e.invoiseValue,r=e.withdrawValue,d=e.invoisePayMethod,u=e.withdrawPayMethod,l=Object(c.useState)(!1),h=Object(o.a)(l,2),b=h[0],m=h[1];return Object(j.jsxs)("form",{className:"container",onSubmit:function(e){return function(e){e.preventDefault(),""!==s&&""!==r&&(t("conferm"),m(!1)),m(!0)}(e)},children:[Object(j.jsxs)("div",{className:"card-container",children:[Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("h1",{className:"card__heading",children:"Sell"}),Object(j.jsx)("select",{name:"select",className:"card__select",onChange:function(e){n(+e.target.value)},children:d.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(j.jsx)("input",{type:"number",name:"invoice",value:s,placeholder:"write your numbers",className:"card__input",onChange:function(e){return a(e)}})]}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("h1",{className:"card__heading",children:"Buy"}),Object(j.jsx)("select",{name:"select",className:"card__select",onChange:function(e){return i(+e.target.value)},children:u.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(j.jsx)("input",{type:"number",name:"withdraw",value:r,placeholder:"write your numbers",className:"card__input",onChange:function(e){return a(e)}})]})]}),b&&Object(j.jsx)("p",{children:"\u274cYou forgot to enter quantity of currencies\u274c"}),Object(j.jsx)("div",{className:"button-container",children:Object(j.jsx)("button",{className:"button-container__button",type:"submit",children:"Exchange"})})]})}),w=function(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(0),s=Object(o.a)(i,2),l=s[0],h=s[1],m=Object(c.useState)(""),f=Object(o.a)(m,2),w=f[0],p=f[1],y=Object(c.useState)(""),x=Object(o.a)(y,2),_=x[0],g=x[1],N=Object(c.useState)(""),P=Object(o.a)(N,2),M=P[0],S=P[1],C=Object(c.useState)([]),I=Object(o.a)(C,2),V=I[0],k=I[1],E=Object(c.useState)([]),q=Object(o.a)(E,2),B=q[0],J=q[1],T=Object(c.useState)("form"),D=Object(o.a)(T,2),W=D[0],Y=D[1];Object(c.useEffect)((function(){r("".concat(d,"/payMethods")).then((function(e){k(e.invoice),a(e.invoice[0].id),J(e.withdraw),h(e.withdraw[0].id)}))}),[]);return Object(j.jsxs)("div",{className:"app",children:["form"===W&&Object(j.jsx)(v,{invoisePayMethod:V,withdrawPayMethod:B,setPage:Y,setInvoicePayMethodId:a,handleChangeValue:function(e){var t=e.target,c=t.name,a=t.value;if("invoice"===c)return g(a),void(a?u(n,"invoice",l,a).then((function(e){p(String(e.amount)),S("invoice")})):p(""));"withdraw"===c&&(p(a),a?u(n,"withdraw",l,a).then((function(e){g(String(e.amount)),S("withdraw")})):g(""))},setWithdrawPayMethodId:h,withdrawValue:w,invoiseValue:_}),"conferm"===W&&Object(j.jsx)(O,{withdrawValue:w,payMethod:M,invoiseValue:_,invoisePayMethod:V,withdrawPayMethod:B,invoicePayMethodId:n,withdrawPayMethodId:l,setPage:Y}),"success"===W&&Object(j.jsx)(b,{setPage:Y})]})};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.6ea1dbdd.chunk.js.map