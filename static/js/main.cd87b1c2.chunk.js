(this.webpackJsonpcurrency_exchange=this.webpackJsonpcurrency_exchange||[]).push([[0],[,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(4),s=n.n(i),o=(n(9),n(2)),r=(n(10),function(e){return fetch(e).then((function(e){return e.json()})).catch((function(){return new Error("failed download")}))}),d="https://involve.software/test_front/api",u=function(e,t,n,c){return r("".concat(d).concat("/payMethods/calculate?base=").concat(t,"&amount=").concat(c,"&invoicePayMethod=").concat(e,"&withdrawPayMethod=").concat(n))},h=function(e,t,n,c){var a;return a={amount:e,base:t,invoicePayMethod:n,withdrawPayMethod:c},fetch("".concat(d,"/bids"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).catch((function(e){return console.log(e)}))},l=(n(11),n.p+"static/media/Vector.a167a025.svg"),j=n(0),b=function(){return Object(j.jsxs)("form",{className:"success-page",children:[Object(j.jsx)("img",{alt:"success",src:l}),Object(j.jsx)("h1",{className:"success-page__heading",children:"Success!"}),Object(j.jsxs)("p",{className:"success-page__text",children:["Your exchange order has been placed",Object(j.jsx)("br",{}),"successfully and will be processed soon."]}),Object(j.jsx)("button",{type:"button",className:"success-page__button",children:"Home"})]})},m=(n(13),function(e){var t=e.invoiseValue,n=e.withdrawValue,c=e.invoisePayMethod,a=e.withdrawPayMethod,i=e.invoicePayMethodId,s=e.withdrawPayMethodId,o=e.setPage,r=e.payMethod,d=c.find((function(e){return e.id===i})),u=a.find((function(e){return e.id===s}));return Object(j.jsxs)("div",{className:"card-confirmation",children:[Object(j.jsx)("h1",{className:"card-confirmation__heading",children:"Details"}),Object(j.jsxs)("div",{className:"card-confirmation__invoise",children:[Object(j.jsx)("p",{className:"card-confirmation__invoise-sell",children:"Sell:"}),Object(j.jsxs)("p",{className:"card-confirmation__invoise-quontity",children:[t," ",null===d||void 0===d?void 0:d.name]})]}),Object(j.jsxs)("div",{className:"card-confirmation__withdraw",children:[Object(j.jsx)("p",{className:"card-confirmation__withdraw-buy",children:"Buy:"}),Object(j.jsxs)("p",{className:"card-confirmation__withdraw-quontity",children:[n," ",null===u||void 0===u?void 0:u.name]})]}),Object(j.jsxs)("div",{className:"card-confirmation__button",children:[Object(j.jsx)("button",{type:"button",className:"card-confirmation__button-cancel",onClick:function(){return o("form")},children:"Cancel"}),Object(j.jsx)("button",{type:"button",className:"card-confirmation__button-confirme",onClick:function(){return"invoice"===r&&h(t,r,i,s).then((function(e){"Success"===e.message&&o("success")})),void("withdraw"===r&&h(n,r,i,s).then((function(e){"Success"===e.message&&o("success")})))},children:"Confirme"})]})]})}),f=(n(14),function(e){var t=e.setPage,n=e.setInvoicePayMethodId,c=e.handleChangeValue,a=e.setWithdrawPayMethodId,i=e.invoiseValue,s=e.withdrawValue,o=e.invoisePayMethod,r=e.withdrawPayMethod;return Object(j.jsxs)("form",{className:"container",onSubmit:function(e){return function(e){e.preventDefault(),t("conferm")}(e)},children:[Object(j.jsxs)("div",{className:"card-container",children:[Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("h1",{className:"card__heading",children:"Sell"}),Object(j.jsx)("select",{name:"select",className:"card__select",onChange:function(e){return n(+e.target.value)},children:o.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(j.jsx)("input",{type:"number",name:"invoice",value:i,required:!0,placeholder:"write your numbers",className:"card__input",onChange:function(e){return c(e)}})]}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("h1",{className:"card__heading",children:"Buy"}),Object(j.jsx)("select",{name:"select",className:"card__select",onChange:function(e){return a(+e.target.value)},children:r.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(j.jsx)("input",{type:"number",name:"withdraw",required:!0,value:s,placeholder:"write your numbers",className:"card__input",onChange:function(e){return c(e)}})]})]}),Object(j.jsx)("div",{className:"button-container",children:Object(j.jsx)("button",{className:"button-container__button",type:"submit",children:"Exchange"})})]})}),v=function(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(0),s=Object(o.a)(i,2),h=s[0],l=s[1],v=Object(c.useState)(""),O=Object(o.a)(v,2),w=O[0],p=O[1],y=Object(c.useState)(""),x=Object(o.a)(y,2),_=x[0],g=x[1],N=Object(c.useState)(""),M=Object(o.a)(N,2),P=M[0],S=M[1],C=Object(c.useState)([]),I=Object(o.a)(C,2),V=I[0],k=I[1],E=Object(c.useState)([]),q=Object(o.a)(E,2),B=q[0],J=q[1],T=Object(c.useState)("form"),D=Object(o.a)(T,2),W=D[0],H=D[1];Object(c.useEffect)((function(){r("".concat(d,"/payMethods")).then((function(e){k(e.invoice),a(e.invoice[0].id),J(e.withdraw),l(e.withdraw[0].id)}))}),[]);return Object(j.jsxs)("div",{className:"app",children:["form"===W&&Object(j.jsx)(f,{invoisePayMethod:V,withdrawPayMethod:B,setPage:H,setInvoicePayMethodId:a,handleChangeValue:function(e){var t=e.target,c=t.name,a=t.value;if("invoice"===c)return g(a),void(a?u(n,"invoice",h,a).then((function(e){p(String(e.amount)),S("invoice")})):p(""));"withdraw"===c&&(p(a),a?u(n,"withdraw",h,a).then((function(e){g(String(e.amount)),S("withdraw")})):g(""))},setWithdrawPayMethodId:l,withdrawValue:w,invoiseValue:_}),"conferm"===W&&Object(j.jsx)(m,{withdrawValue:w,payMethod:P,invoiseValue:_,invoisePayMethod:V,withdrawPayMethod:B,invoicePayMethodId:n,withdrawPayMethodId:h,setPage:H}),"success"===W&&Object(j.jsx)(b,{})]})};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.cd87b1c2.chunk.js.map